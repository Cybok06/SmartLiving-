<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Admin Dashboard - CRM System</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="icon" type="image/png" href="https://res.cloudinary.com/dljpgzbto/image/upload/v1743993646/company-logo_dksb23.jpg" />
  <link rel="apple-touch-icon" href="https://res.cloudinary.com/dljpgzbto/image/upload/v1743993646/company-logo_dksb23.jpg" />
  <link rel="manifest" href="/manifest.json" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="SMART CRM" />
  <meta name="theme-color" content="#000000" />

  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f3e8ff;
      transition: background-color 0.3s, color 0.3s;
    }

    .navbar-brand img { height: 40px; }

    .dark-mode { background-color: #121212 !important; color: #f1f1f1; }
    .dark-mode .navbar, .dark-mode .footer { background-color: #343a40 !important; }

    .footer {
      background-color: #e0c7ff;
      padding: 15px 0;
      text-align: center;
      margin-top: 30px;
      border-top: 1px solid #ccc;
    }

    .nav-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 15px;
      margin-top: 20px;
      padding-bottom: 30px;
    }

    .nav-card {
      position: relative;
      height: 200px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      background-size: cover;
      background-position: center;
      transition: transform 0.3s ease;
      opacity: 0;
      transform: translateY(30px);
    }
    .nav-card:hover { transform: translateY(-3px) scale(1.01); }

    .nav-card.slide-in {
      opacity: 1;
      transform: translateY(0);
      animation: slideIn 0.6s ease forwards;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .nav-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background-color: rgba(0, 0, 0, 0.35);
      backdrop-filter: blur(1px);
    }

    .nav-card-content {
      position: absolute;
      z-index: 1;
      bottom: 0;
      background: rgba(255, 255, 255, 0.85);
      width: 100%;
      padding: 15px 10px;
      text-align: center;
    }

    .nav-card h3 {
      margin-bottom: 5px;
      font-size: 16px;
      color: #007BFF;
    }

    .nav-card p {
      font-size: 13px;
      color: #333;
    }

    @media (max-width: 576px) {
      .nav-grid { grid-template-columns: repeat(2, 1fr); gap: 10px; }
    }
  </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light px-3">
  <a class="navbar-brand d-flex align-items-center" href="#">
    <img src="https://res.cloudinary.com/dljpgzbto/image/upload/v1743993646/company-logo_dksb23.jpg" alt="Company Logo">
    <span class="ms-2">Admin Dashboard</span>
  </a>
  <div class="ms-auto d-flex align-items-center">
    <button class="btn btn-outline-dark me-3" onclick="toggleDarkMode()">Toggle Dark Mode</button>
    <a href="/logout" class="btn btn-danger">Logout</a>
  </div>
</nav>

<main class="container mt-4">
  <h2>Welcome, Admin</h2>

  <div class="nav-grid">
    <!-- Cards -->
    {% for card in [
      {'url': url_for('admin_sales_close.admin_close_page'), 'img': 'https://cdn-icons-png.flaticon.com/512/1170/1170678.png', 'title': 'Sales Close (Managers)', 'desc': 'Withdraw & history'},
      {'url': url_for('register_manager.register_manager'), 'img': 'https://cdn-icons-png.flaticon.com/512/1256/1256650.png', 'title': 'Register Manager', 'desc': 'Create new managers'},
      {'url': url_for('add_inventory.add_inventory'), 'img': 'https://cdn-icons-png.flaticon.com/512/3061/3061160.png', 'title': 'Warehouse', 'desc': 'Upload stock items'},
      {'url': url_for('add_product.add_product'), 'img': 'https://cdn-icons-png.flaticon.com/512/2331/2331970.png', 'title': 'Add Product', 'desc': 'Create bundled products'},
      {'url': url_for('recruitment.recruitment'), 'img': 'https://cdn-icons-png.flaticon.com/512/2038/2038854.png', 'title': 'Recruitments', 'desc': 'Managers and Agents'},
      {'url': url_for('admin_topups.admin_topup_list'), 'img': 'https://cdn-icons-png.flaticon.com/512/3721/3721844.png', 'title': 'Top-Up Requests', 'desc': 'View & approve manager requests'},
      {'url': url_for('admin_task.admin_tasks'), 'img': 'https://cdn-icons-png.flaticon.com/512/3649/3649466.png', 'title': 'Send Task to Managers', 'desc': 'Post instructions or goals'},
      {'url': url_for('admin_profile.admin_profile'), 'img': 'https://cdn-icons-png.flaticon.com/512/149/149071.png', 'title': 'My Profile', 'desc': 'Admin information'},
      {'url': url_for('admin_account.admin_accountability'), 'img': 'https://cdn-icons-png.flaticon.com/512/2936/2936776.png', 'title': 'Closing', 'desc': 'Manager daily records'},
      {'url': url_for('chat.chat'), 'img': 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSHpPDGeYOWla4PN-EROlHJ8xLHrFc6Rx-8sg&s', 'title': 'Chat System', 'desc': 'Chat with managers & agents'},
      {'url': '/todo', 'img': 'https://media.lordicon.com/icons/wired/gradient/47-to-do-list.gif', 'title': 'Todo List', 'desc': 'Create and manage Todo lists'},
      {'url': url_for('login_logs.login_logs'), 'img': 'https://cdn-icons-png.flaticon.com/512/4253/4253264.png', 'title': 'Login Logs', 'desc': 'Monitor user login activities'}
    ] %}
      <a href="{{ card.url }}" class="nav-card" style="background-image: url('{{ card.img }}');" aria-label="{{ card.title }}">
        <div class="nav-card-content">
          <h3>{{ card.title }}</h3>
          <p>{{ card.desc }}</p>
        </div>
      </a>
    {% endfor %}
  </div>
</main>

<footer class="footer">
  <div>CYTECH | Admin Portal</div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
  function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
  }

  window.addEventListener('DOMContentLoaded', () => {
    const cards = document.querySelectorAll('.nav-card');
    cards.forEach((card, i) => {
      setTimeout(() => card.classList.add('slide-in'), i * 100);
    });
  });
</script>

</body>
</html>
